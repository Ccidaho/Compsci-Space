//Vars
var attClicks = 0;
var obvClicks = 0;
var jmpClicks = 0;
var Jrec = 20;
var Orec = 20;
var Arec = 20;
var skillBook = 0;
var attackingSkill = 0;
var jumpingSkill = 0;
var observationSkill = 0;
//Start Game Code

function startGame() {
var newText = " You fall out of a tree that you were sleeping in," +
" and because you fell so hard you lost your memory!";

var mapText = "<button onclick='walkTrail()'>A Small Trail</button>"
document.getElementById('map').innerHTML = mapText;
document.getElementById('story').innerHTML = newText;
	}

function walkTrail(set) {
if(set == 1 || skillBook == 1){
skillBook = 1;
getSkillBook();
var newText = " A Small Walking Path, You Cannot View Anything Else";
	}
if(skillBook !== 1){
console.log(skillBook);
var newText = " A Small Walking Path, However You Can See A <i onclick='walkTrail(1)'>Skill Book</i>";
	}
var mapText = "<button onclick='walkTree()'>The Tree</button>" 
if(skillBook == 1){
mapText += "<br> <button onclick='walkSecTrail()'>The Other Trail</button>"
	}	
document.getElementById('map').innerHTML = mapText;
document.getElementById('story').innerHTML = newText;
	}
	
function walkTree(set){
var newText = " The Tree You Woke Up At";
var mapText = "<button onclick='walkTrail()'>The Trail</button>"

document.getElementById('map').innerHTML = mapText;
document.getElementById('story').innerHTML = newText;
}

function walkSecTrail(){
var combatFun = 0;
var Attacked = Math.floor(Math.random() * 5 + 1);  
var attBy = Math.floor(Math.random() * 3);
if(Attacked >= 4 && attackingSkill < 1){
var newText = "As You View The Path In Front Of You You Can See A Small Cottage In The Distance"
var mapText = "<button onclick='walkTrail()'>The Other Trail</button>";
startCombat(1);
combatFun ++;
}

else{
var newText = "You find a Training Dummy which you can use to train your Attack Skill!" +
"</p><p><button onclick='trainSk(0)'>Attack Skill Train</button>";
var mapText = "<button onclick='walkTrail()'>The Trail</button>";
}

if (combatFun == 0){
document.getElementById('map').innerHTML = mapText;
document.getElementById('story').innerHTML = newText;
}
}

function getSkillBook(){
jumpingSkill = 1;
observationSkill = 1;
attackingSkill = 0;
var newText = "<h1>Skill-Book</h1>"+
"<p>Observation: <i id='observationSk'>1</i> <b id='obvTill'> </b></p>"+
"<p>Jumping: <i id='jumpingSk'>1</i> <b id='jmpTill'> </b></p>" +
"<p>Attack: <i id='attackingSk'>0</i> <b id='attTill'> </b></p>"

document.getElementById('skillDiv').innerHTML = newText;
}

function trainSk(set){
if(set == 0){
attClicks ++;
if(attClicks >= Arec){
attackingSkill ++;
Arec += 10;
attClicks = 0;
	}
		}
if(set == 1){
obvClicks ++;
if(obvClicks >= Orec){
observationSkill ++;
Orec += 10;
obvClicks = 0;
	}
		}
if(set == 2){
jmpClicks ++;
if(jmpClicks >= Jrec){
jumpingSkill ++;
Jrec += 10;
jmpClicks = 0;
	}
		}
document.getElementById("attTill").innerHTML = attClicks + "/" + Arec;
document.getElementById("attackingSk").innerHTML = attackingSkill;
document.getElementById("obvTill").innerHTML = obvClicks + "/" + Orec;
document.getElementById("observationSk").innerHTML = observationSkill;
document.getElementById("jmpTill").innerHTML = jmpClicks + "/" + Jrec;
document.getElementById("jumpingSk").innerHTML = jumpingSkill;
}
//Combat Stuff
function startCombat(enemy){
document.getElementById('mainGame').style.visibility = "hidden";
document.getElementById('allText').style.visibility = "visible"; 
var newText = "<h1>Amazing Combat!</h1>"  +
"<div style='float:left' align='center' class='combatStuff'>" +
"<h1>You</h1>" +
"<b>HP:</b><p id='yourHealth'> 10</p></div>" +
"<div style='float:right' align='center' class='combatStuff'>" +
"<h1 id='enemyFighting'>DEFENEMY</h1>" +
"<b>HP:</b> <p id='enemyHealth'> DEFHEALTH</p></div><div id='combatMisc' align='center' style='clear:both'>"+
"<h1>Combat Info</h1><p id='combatInfo'></p></div><div align ='center' id='combatButtons'></div>"
document.getElementById("allText").innerHTML = newText;
if(enemy == 1){enemyHealth = 5; document.getElementById("enemyFighting").innerHTML ='Bandit'; enemyAttacking = 1}


var combatButtons = "<button onclick='attackCombat(1)'>Punch</button>";
document.getElementById("combatButtons").innerHTML += combatButtons;
document.getElementById("enemyHealth").innerHTML = enemyHealth;
document.getElementById("yourHealth").innerHTML = yourHealth;
}

var enemyAttacking = 0;
var yourHealth = 10;
var enemyHealth = 1;

function backToNormal(){
document.getElementById('mainGame').style.visibility = "visible"; 
document.getElementById('allText').style.visibility = "hidden"; 
}

function attackCombat(attack){
var yourDealt = 0;
var enemyDealt = 0;
if(attack == 1){
yourDealt = Math.floor((Math.random() * 3) + 1);
enemyHealth -= yourDealt;
document.getElementById("combatInfo").innerHTML = "<br>You Punched Your Combatant With Your Fist! " + yourDealt + " Damage!";
	}
if(attack == 2){
yourDealt = Math.floor((Math.random() * attackingSkill) + 1);
enemyHealth -= yourDealt;
document.getElementById("combatInfo").innerHTML = "<br>You Stabbed The Enemy With Your Knife! " + yourDealt + " Damage!";
}
if(enemyAttacking == 1){
enemyDealt = Math.floor((Math.random() * 2) + 1);
yourHealth -= enemyDealt;
document.getElementById("combatInfo").innerHTML += "<br>The Bandit Punches You Real Hard! " + enemyDealt + " Damage!" 
}
